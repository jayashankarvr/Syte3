{"version":3,"sources":["pages/Instagram/Profile.js","pages/Instagram/Post.js","pages/Instagram/Posts.js","pages/Instagram/index.js","components/Error/index.js","components/Error/Error.module.css","hooks/User.js","pages/Instagram/Instagram.module.css","pages/Instagram/Modal.js"],"names":["Profile","user","className","styles","profile","href","url","picture","src","profile_picture","alt","full_name","username","bio","length","dangerouslySetInnerHTML","__html","stats","counts","media","toLocaleString","follows","followed_by","Post","post","useState","videoVisible","setVideoVisible","showDetails","setShowDetails","handleClick","e","preventDefault","onClick","pictureHD","loader","placeholder","type","onLoad","video","likes","comments","Modal","item","onClose","Posts","posts","setPosts","loading","setLoading","error","setError","useEffect","fetchPosts","a","fetch","process","response","json","empty","map","key","id","Instagram","useUser","Error","message","more","module","exports","setUser","fetchUser","InstagramModal","poster","controls","details","avatar","date","formatDistanceToNow","parseISO","text"],"mappings":"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","file":"static/js/8.0b25e3d7.chunk.js","sourcesContent":["import React from 'react'\nimport Img from 'react-image'\nimport styles from './Instagram.module.css'\n\nexport default function Profile({ user }) {\n    return (\n        <div className={styles.profile}>\n            <a href={user.url} className={styles.picture}>\n                <Img src={user.profile_picture} alt=\"Instagram Profile\" />\n            </a>\n            <h2>{user.full_name}</h2>\n            <a href={user.url} className={styles.username}>\n                @{user.username}\n            </a>\n            {user.bio && user.bio.length && <p dangerouslySetInnerHTML={{ __html: user.bio }}></p>}\n            <ul className={styles.stats}>\n                <li>\n                    Posts <strong>{user.counts.media ? user.counts.media.toLocaleString() : '0'}</strong>\n                </li>\n                <li>\n                    Following <strong>{user.counts.follows ? user.counts.follows.toLocaleString() : '0'}</strong>\n                </li>\n                <li>\n                    Followers <strong>{user.counts.followed_by ? user.counts.followed_by.toLocaleString() : '0'}</strong>\n                </li>\n            </ul>\n        </div>\n    )\n}\n","import React, { useState } from 'react'\nimport Img from 'react-image'\nimport { Logo, PlayLogo, HeartIcon, CommentIcon } from 'components/Icons'\nimport Modal from './Modal'\nimport styles from './Instagram.module.css'\n\nexport default function Post({ post }) {\n    const [videoVisible, setVideoVisible] = useState(false)\n    const [showDetails, setShowDetails] = useState(false)\n    const handleClick = e => {\n        e.preventDefault()\n        setShowDetails(!showDetails)\n    }\n\n    return (\n        <li>\n            <a href={post.url} className={styles.post} onClick={handleClick}>\n                <Img\n                    src={post.pictureHD}\n                    alt=\"Instagram Post\"\n                    loader={\n                        <div className={styles.placeholder}>\n                            <Logo type=\"Instagram\" />\n                        </div>\n                    }\n                    onLoad={() => {\n                        setVideoVisible(true)\n                    }}\n                />\n                {post.video && <span className={styles.video}>{videoVisible && <PlayLogo />}</span>}\n                <ul className={styles.stats}>\n                    <li>\n                        <HeartIcon />\n                        <span>{post.likes}</span>\n                    </li>\n                    <li>\n                        <CommentIcon />\n                        <span>{post.comments}</span>\n                    </li>\n                </ul>\n            </a>\n            {showDetails && <Modal item={post} onClose={handleClick} />}\n        </li>\n    )\n}\n","import React, { useState, useEffect } from 'react'\nimport Post from './Post'\nimport styles from './Instagram.module.css'\n\nexport default function Posts() {\n    const [posts, setPosts] = useState([])\n    const [loading, setLoading] = useState(true)\n    const [error, setError] = useState(false)\n\n    useEffect(() => {\n        fetchPosts()\n    }, [])\n\n    const fetchPosts = async () => {\n        try {\n            const response = await fetch(`${process.env.REACT_APP_API_URL}/instagram/recent`)\n            const posts = await response.json()\n            if (posts.length > 0) {\n                setPosts(posts)\n            }\n            setLoading(false)\n        } catch (error) {\n            setError(true)\n        }\n    }\n\n    return (\n        <div className={styles.posts}>\n            {error && <p className={styles.error}>Unable to fetch Instagram posts.</p>}\n            {!loading && !posts.length && !error && <p className={styles.empty}>No recent activity.</p>}\n            {!loading && !error && posts.length ? (\n                <ul>\n                    {posts.map(post => (\n                        <Post key={post.id} post={post} />\n                    ))}\n                </ul>\n            ) : null}\n        </div>\n    )\n}\n","import React from 'react'\nimport Error from 'components/Error'\nimport useUser from 'hooks/User'\nimport Profile from './Profile'\nimport Posts from './Posts'\nimport styles from './Instagram.module.css'\n\nexport default function Instagram() {\n    const [user, error] = useUser('instagram')\n\n    if (error) {\n        return <Error message=\"Unable to fetch instagram profile.\" />\n    }\n\n    return (\n        <>\n            {user && <Profile user={user} />}\n            <Posts />\n            {user && (\n                <a href={user.url} className={styles.more}>\n                    See more on Instagram...\n                </a>\n            )}\n        </>\n    )\n}\n","import React from 'react'\nimport styles from './Error.module.css'\n\nconst Error = ({ message }) => {\n    return (\n        <div className={styles.Error}>\n            <h3>:(</h3>\n            <p>{message || 'Unable to load'}</p>\n        </div>\n    )\n}\n\nexport default Error\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Error\":\"Error_Error__3f4kP\",\"fadeIn\":\"Error_fadeIn__2G69l\"};","import { useState, useEffect } from 'react'\n\nexport default function useUser(type) {\n    const [user, setUser] = useState(null)\n    const [error, setError] = useState(false)\n\n    useEffect(() => {\n        const fetchUser = async () => {\n            try {\n                const url = `${process.env.REACT_APP_API_URL}/${type}/user`\n                const response = await fetch(url)\n                const user = await response.json()\n                setUser(user)\n            } catch (error) {\n                setError(true)\n            }\n        }\n        fetchUser()\n    }, [type])\n\n    return [user, error]\n}\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"profile\":\"Instagram_profile__25gVt\",\"picture\":\"Instagram_picture__1Z0it\",\"scaleIn\":\"Instagram_scaleIn__pyMKT\",\"moveIn\":\"Instagram_moveIn__1dt-e\",\"username\":\"Instagram_username__3SMz_\",\"moveOut\":\"Instagram_moveOut__2liPY\",\"stats\":\"Instagram_stats__14eJu\",\"posts\":\"Instagram_posts__1qUTF\",\"halfScaleIn\":\"Instagram_halfScaleIn__1278P\",\"video\":\"Instagram_video__25Swq\",\"post\":\"Instagram_post__10C5W\",\"placeholder\":\"Instagram_placeholder__2rdj0\",\"rotate\":\"Instagram_rotate__13xWk\",\"error\":\"Instagram_error__IMUTE\",\"more\":\"Instagram_more__k7diT\",\"timelinePost\":\"Instagram_timelinePost__2mXed\",\"fadeIn\":\"Instagram_fadeIn__1bABg\"};","import React from 'react'\nimport Img from 'react-image'\nimport { parseISO, formatDistanceToNow } from 'date-fns'\nimport { HeartIcon, CommentIcon } from 'components/Icons'\nimport Modal from 'components/Modal'\nimport styles from 'components/Modal/Modal.module.css'\n\nexport default function InstagramModal({ item, onClose }) {\n    return (\n        <Modal onClose={onClose}>\n            {item.video ? (\n                <video src={item.video.url} className={styles.media} poster={item.pictureHD} controls />\n            ) : (\n                <Img src={item.pictureHD ? item.pictureHD : item.picture} alt=\"Instagram Post\" className={styles.media} />\n            )}\n            <div className={styles.details}>\n                <h4>{item.user.username}</h4>\n                <a href={item.url} className={styles.avatar}>\n                    <Img src={item.user.profile_picture} alt=\"Avatar\" />\n                </a>\n                <span className={styles.date}>{formatDistanceToNow(typeof item.date === 'string' ? parseISO(item.date) : item.date)} ago</span>\n                <ul className={styles.stats}>\n                    <li>\n                        <HeartIcon />\n                        <span>{item.likes}</span>\n                    </li>\n                    <li>\n                        <CommentIcon />\n                        <span>{item.comments}</span>\n                    </li>\n                </ul>\n                <p dangerouslySetInnerHTML={{ __html: item.text }}></p>\n            </div>\n        </Modal>\n    )\n}\n"],"sourceRoot":""}