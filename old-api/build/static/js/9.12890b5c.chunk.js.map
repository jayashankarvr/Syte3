{"version":3,"sources":["pages/Twitter/Photos.js","pages/Twitter/Profile.js","pages/Twitter/Tweet.js","pages/Twitter/Tweets.js","pages/Twitter/index.js","components/Error/index.js","components/Error/Error.module.css","hooks/User.js","pages/Twitter/Twitter.module.css","pages/Twitter/Modal.js"],"names":["Photos","username","photos","length","className","styles","map","photo","key","id","href","tweetID","style","backgroundImage","url","Profile","user","profile","banner","bannerShadow","picture","src","alt","name","description","stats","statuses","toLocaleString","following","followers","pictures","Tweet","tweet","useState","showDetails","setShowDetails","handleClick","e","preventDefault","avatar","content","date","formatDistanceToNow","parseISO","dangerouslySetInnerHTML","__html","originalText","text","onClick","video","Modal","item","onClose","Tweets","tweets","setTweets","page","setPage","error","setError","empty","setEmpty","pageEl","useRef","debouncing","useEffect","fetchTweets","window","addEventListener","handleScroll","removeEventListener","a","fetch","process","response","json","pageTweets","concat","current","requestAnimationFrame","scrollY","innerHeight","clientHeight","ref","Twitter","useUser","Error","message","module","exports","type","setUser","fetchUser","TwitterModal","pictureIndex","setPictureIndex","setPicture","media","controls","leftIcon","rightIcon","details","favorites","retweets"],"mappings":"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","file":"static/js/9.12890b5c.chunk.js","sourcesContent":["import React from 'react'\nimport styles from './Twitter.module.css'\n\nexport default function Photos({ username, photos }) {\n    if (!photos || photos.length === 0) {\n        return null\n    }\n    return (\n        <>\n            <h3>Recent Photos</h3>\n            <ul className={styles.photos}>\n                {photos.map(photo => (\n                    <li key={photo.id}>\n                        <a href={`https://twitter.com/${username}/status/${photo.tweetID}`}>\n                            <span style={{ backgroundImage: `url(${photo.url})` }} />\n                        </a>\n                    </li>\n                ))}\n            </ul>\n        </>\n    )\n}\n","import React from 'react'\nimport Photos from './Photos'\nimport Img from 'react-image'\nimport styles from './Twitter.module.css'\n\nexport default function Profile({ user }) {\n    return (\n        <div className={styles.profile}>\n            <div className={styles.banner} style={{ backgroundImage: `url(${user.banner})` }}>\n                <span className={styles.bannerShadow} />\n            </div>\n            <a href={user.url} className={styles.picture}>\n                <Img src={user.picture} alt=\"Twitter Profile\" />\n            </a>\n            <h2>{user.name}</h2>\n            <a href={user.url} className={styles.username}>\n                @{user.username}\n            </a>\n            {user.description && user.description.length && <p>{user.description}</p>}\n            <ul className={styles.stats}>\n                <li>\n                    Tweets <strong>{user.statuses ? user.statuses.toLocaleString() : '0'}</strong>\n                </li>\n                <li>\n                    Following <strong>{user.following ? user.following.toLocaleString() : '0'}</strong>\n                </li>\n                <li>\n                    Followers <strong>{user.followers ? user.followers.toLocaleString() : '0'}</strong>\n                </li>\n            </ul>\n            {user.pictures && <Photos username={user.username} photos={user.pictures} />}\n        </div>\n    )\n}\n","import React, { useState } from 'react'\nimport Img from 'react-image'\nimport { parseISO, formatDistanceToNow } from 'date-fns'\nimport { PlayLogo } from 'components/Icons'\nimport Modal from './Modal'\nimport styles from './Twitter.module.css'\n\nexport default function Tweet({ tweet }) {\n    const [showDetails, setShowDetails] = useState(false)\n    const handleClick = e => {\n        e.preventDefault()\n        setShowDetails(!showDetails)\n    }\n\n    return (\n        <li>\n            <a href={tweet.url} className={styles.avatar}>\n                <Img src={tweet.user.picture} alt=\"Avatar\" />\n            </a>\n            <div className={styles.content}>\n                <h4>\n                    <a href={tweet.url}>\n                        {tweet.user.name} <span className={styles.username}>@{tweet.user.username}</span>\n                    </a>\n                    <span className={styles.date}>{formatDistanceToNow(parseISO(tweet.date))} ago</span>\n                </h4>\n                <p dangerouslySetInnerHTML={{ __html: tweet.originalText ? tweet.originalText : tweet.text }}></p>\n                {tweet.pictures && (\n                    <ul className={styles.pictures}>\n                        {tweet.pictures.map(picture => (\n                            <li key={picture.id} onClick={handleClick}>\n                                <span style={{ backgroundImage: `url(${picture.url})` }} className={styles.picture} />\n                                {tweet.video && <PlayLogo className={styles.video} />}\n                            </li>\n                        ))}\n                    </ul>\n                )}\n            </div>\n            {showDetails && <Modal item={tweet} onClose={handleClick} />}\n        </li>\n    )\n}\n","import React, { useState, useEffect, useRef } from 'react'\nimport Tweet from './Tweet'\nimport styles from './Twitter.module.css'\n\nexport default function Tweets() {\n    const [tweets, setTweets] = useState([])\n    const [page, setPage] = useState(0)\n    const [error, setError] = useState(false)\n    const [empty, setEmpty] = useState(0)\n    const pageEl = useRef(null)\n    let debouncing = useRef(false)\n\n    useEffect(() => {\n        fetchTweets()\n\n        window.addEventListener('scroll', handleScroll)\n        return () => {\n            window.removeEventListener('scroll', handleScroll)\n        }\n    }, [page])\n\n    const fetchTweets = async () => {\n        try {\n            const response = await fetch(`${process.env.REACT_APP_API_URL}/twitter/${page}`)\n            const pageTweets = await response.json()\n            if (pageTweets.length > 0) {\n                setTweets(tweets.concat(pageTweets))\n                setEmpty(0)\n            } else if (empty < 2) {\n                setEmpty(empty + 1)\n                setPage(page + 1)\n                //TODO: change api to not return empty pages...\n            }\n            debouncing.current = false\n        } catch (error) {\n            setError(true)\n        }\n    }\n\n    const handleScroll = () => {\n        if (debouncing.current) {\n            return\n        }\n\n        debouncing.current = true\n        window.requestAnimationFrame(() => {\n            if (window.scrollY + window.innerHeight > pageEl.current.clientHeight - 200) {\n                setPage(page + 1)\n                return\n            }\n            debouncing.current = false\n        })\n    }\n\n    return (\n        <div className={styles.tweets} ref={pageEl}>\n            <h3>Recent Tweets</h3>\n            {error && <p className={styles.error}>Unable to fetch recent tweets.</p>}\n            {!error && (\n                <ul>\n                    {tweets.map(tweet => (\n                        <Tweet tweet={tweet} key={tweet.id} />\n                    ))}\n                </ul>\n            )}\n        </div>\n    )\n}\n","import React from 'react'\nimport Error from 'components/Error'\nimport useUser from 'hooks/User'\nimport Profile from './Profile'\nimport Tweets from './Tweets'\nimport styles from './Twitter.module.css'\n\nexport default function Twitter() {\n    const [user, error] = useUser('twitter')\n\n    if (error) {\n        return <Error message=\"Unable to fetch twitter profile.\" />\n    }\n\n    return (\n        <div className={styles.page}>\n            {user && <Profile user={user} />}\n            <Tweets />\n        </div>\n    )\n}\n","import React from 'react'\nimport styles from './Error.module.css'\n\nconst Error = ({ message }) => {\n    return (\n        <div className={styles.Error}>\n            <h3>:(</h3>\n            <p>{message || 'Unable to load'}</p>\n        </div>\n    )\n}\n\nexport default Error\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Error\":\"Error_Error__3f4kP\",\"fadeIn\":\"Error_fadeIn__2G69l\"};","import { useState, useEffect } from 'react'\n\nexport default function useUser(type) {\n    const [user, setUser] = useState(null)\n    const [error, setError] = useState(false)\n\n    useEffect(() => {\n        const fetchUser = async () => {\n            try {\n                const url = `${process.env.REACT_APP_API_URL}/${type}/user`\n                const response = await fetch(url)\n                const user = await response.json()\n                setUser(user)\n            } catch (error) {\n                setError(true)\n            }\n        }\n        fetchUser()\n    }, [type])\n\n    return [user, error]\n}\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"page\":\"Twitter_page__24zxb\",\"error\":\"Twitter_error__3_6ZO\",\"profile\":\"Twitter_profile__1vYeL\",\"banner\":\"Twitter_banner__18tA_\",\"bannerShadow\":\"Twitter_bannerShadow__1k64y\",\"picture\":\"Twitter_picture__1zOsW\",\"scaleIn\":\"Twitter_scaleIn__3t6rU\",\"username\":\"Twitter_username__3mPB0\",\"stats\":\"Twitter_stats__gaImf\",\"moveIn\":\"Twitter_moveIn__3AuzH\",\"moveOut\":\"Twitter_moveOut__1xxBO\",\"photos\":\"Twitter_photos__2OLbH\",\"halfScaleIn\":\"Twitter_halfScaleIn__2UtSZ\",\"tweets\":\"Twitter_tweets__1hRHt\",\"avatar\":\"Twitter_avatar__1fhaV\",\"content\":\"Twitter_content__3m2oE\",\"date\":\"Twitter_date__32iul\",\"pictures\":\"Twitter_pictures__3VFxd\",\"video\":\"Twitter_video__2h__7\",\"timelineTweet\":\"Twitter_timelineTweet__23JE-\",\"fadeIn\":\"Twitter_fadeIn__27FJV\"};","import React, { useState, useEffect } from 'react'\nimport Img from 'react-image'\nimport { parseISO, formatDistanceToNow } from 'date-fns'\nimport { HeartIcon, LoopIcon, LeftIcon, RightIcon } from 'components/Icons'\nimport Modal from 'components/Modal'\nimport styles from 'components/Modal/Modal.module.css'\n\nexport default function TwitterModal({ item, onClose }) {\n    const [pictureIndex, setPictureIndex] = useState(0)\n    const [picture, setPicture] = useState(null)\n\n    useEffect(() => {\n        if (!item.pictures.length) {\n            return\n        }\n\n        if (pictureIndex > item.pictures.length - 1) {\n            setPictureIndex(0)\n        } else if (pictureIndex < 0) {\n            setPictureIndex(item.pictures.length - 1)\n        } else {\n            setPicture(item.pictures[pictureIndex])\n        }\n    }, [pictureIndex, item.pictures])\n\n    return (\n        <Modal onClose={onClose}>\n            <div className={styles.media}>\n                {item.video ? <video src={item.video} controls /> : picture ? <Img src={picture.url} alt=\"Twitter Picture\" /> : null}\n                {item.pictures.length > 1 ? (\n                    <>\n                        <span\n                            className={styles.leftIcon}\n                            onClick={() => {\n                                setPictureIndex(pictureIndex + 1)\n                            }}>\n                            <LeftIcon />\n                        </span>\n                        <span\n                            className={styles.rightIcon}\n                            onClick={() => {\n                                setPictureIndex(pictureIndex - 1)\n                            }}>\n                            <RightIcon />\n                        </span>\n                    </>\n                ) : null}\n            </div>\n            <div className={styles.details}>\n                <h4>@{item.user.username}</h4>\n                <a href={item.url} className={styles.avatar}>\n                    <Img src={item.user.picture} alt=\"Avatar\" />\n                </a>\n                <span className={styles.date}>{formatDistanceToNow(typeof item.date === 'string' ? parseISO(item.date) : item.date)} ago</span>\n                <ul className={styles.stats}>\n                    <li>\n                        <HeartIcon />\n                        <span>{item.favorites ? item.favorites.toLocaleString() : '0'}</span>\n                    </li>\n                    <li>\n                        <LoopIcon />\n                        <span>{item.retweets ? item.retweets.toLocaleString() : '0'}</span>\n                    </li>\n                </ul>\n                <p dangerouslySetInnerHTML={{ __html: item.originalText ? item.originalText : item.text }}></p>\n            </div>\n        </Modal>\n    )\n}\n"],"sourceRoot":""}