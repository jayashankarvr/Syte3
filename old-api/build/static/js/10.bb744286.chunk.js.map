{"version":3,"sources":["pages/YouTube/Profile.js","pages/YouTube/Video.js","pages/YouTube/Videos.js","pages/YouTube/index.js","components/Error/index.js","components/Error/Error.module.css","hooks/User.js","pages/YouTube/YouTube.module.css","pages/YouTube/Modal.js"],"names":["Profile","user","className","styles","profile","banner","style","backgroundImage","bannerShadow","href","url","picture","src","alt","name","stats","subscribers","toLocaleString","Video","video","useState","videoVisible","setVideoVisible","showDetails","setShowDetails","handleClick","e","preventDefault","onClick","image","title","loader","placeholder","type","onLoad","videoLogo","info","date","formatDistanceToNow","parseISO","Modal","item","onClose","Videos","uploads","setUploads","liked","setLiked","page","setPage","error","setError","empty","setEmpty","pageEl","useRef","debouncing","useEffect","fetchVideos","window","addEventListener","handleScroll","removeEventListener","a","fetch","process","response","json","pageVideos","pageUploads","pageLikes","likes","length","concat","current","requestAnimationFrame","scrollY","innerHeight","clientHeight","videos","ref","map","key","id","YouTube","useUser","Error","message","module","exports","setUser","fetchUser","YouTubeModal","wide","media","frameBorder","allowFullScreen","details","stacked","dangerouslySetInnerHTML","__html","description"],"mappings":"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","file":"static/js/10.bb744286.chunk.js","sourcesContent":["import React from 'react'\nimport Img from 'react-image'\nimport styles from './YouTube.module.css'\n\nexport default function Profile({ user }) {\n    return (\n        <div className={styles.profile}>\n            <div className={styles.banner} style={{ backgroundImage: `url(${user.banner})` }}>\n                <span className={styles.bannerShadow} />\n            </div>\n            <a href={user.url} className={styles.picture}>\n                <Img src={user.picture} alt=\"YouTube Profile\" />\n            </a>\n            <h2>{user.name}</h2>\n            <ul className={styles.stats}>\n                <li>\n                    <strong>{user.subscribers ? user.subscribers.toLocaleString() : '0'}</strong> Subscribers\n                </li>\n            </ul>\n        </div>\n    )\n}\n","import React, { useState } from 'react'\nimport Img from 'react-image'\nimport { parseISO, formatDistanceToNow } from 'date-fns'\nimport { Logo, PlayLogo } from 'components/Icons'\nimport Modal from './Modal'\nimport styles from './YouTube.module.css'\n\nexport default function Video({ video }) {\n    const [videoVisible, setVideoVisible] = useState(false)\n    const [showDetails, setShowDetails] = useState(false)\n    const handleClick = e => {\n        e.preventDefault()\n        setShowDetails(!showDetails)\n    }\n\n    return (\n        <li>\n            <a href={video.url} className={styles.video} onClick={handleClick}>\n                <Img\n                    src={video.image}\n                    alt={video.title}\n                    loader={\n                        <div className={styles.placeholder}>\n                            <Logo type=\"YouTube\" />\n                        </div>\n                    }\n                    onLoad={() => {\n                        setVideoVisible(true)\n                    }}\n                />\n                <span className={styles.videoLogo}>{videoVisible && <PlayLogo />}</span>\n            </a>\n            <div className={styles.info}>\n                <div className={styles.title}>{video.title}</div>\n                <div className={styles.date}>{formatDistanceToNow(parseISO(video.date))} ago</div>\n            </div>\n            {showDetails && <Modal item={video} onClose={handleClick} />}\n        </li>\n    )\n}\n","import React, { useState, useEffect, useRef } from 'react'\nimport Video from './Video'\nimport styles from './YouTube.module.css'\n\nexport default function Videos() {\n    const [uploads, setUploads] = useState([])\n    const [liked, setLiked] = useState([])\n    const [page, setPage] = useState(0)\n    const [error, setError] = useState(false)\n    const [empty, setEmpty] = useState(false)\n\n    const pageEl = useRef(null)\n    let debouncing = useRef(false)\n\n    useEffect(() => {\n        fetchVideos()\n\n        window.addEventListener('scroll', handleScroll)\n        return () => {\n            window.removeEventListener('scroll', handleScroll)\n        }\n    }, [page])\n\n    const fetchVideos = async () => {\n        try {\n            const response = await fetch(`${process.env.REACT_APP_API_URL}/youtube/${page}`)\n            const pageVideos = await response.json()\n            if (pageVideos) {\n                const pageUploads = pageVideos.uploads\n                const pageLikes = pageVideos.likes\n                if (pageUploads && pageUploads.length) {\n                    setUploads(uploads.concat(pageUploads))\n                }\n                if (pageLikes && pageLikes.length) {\n                    setLiked(liked.concat(pageLikes))\n                }\n\n                if (!pageUploads && !pageLikes) {\n                    setEmpty(true)\n                }\n            }\n            debouncing.current = false\n        } catch (error) {\n            setError(true)\n        }\n    }\n\n    const handleScroll = () => {\n        if (debouncing.current || empty) {\n            return\n        }\n\n        debouncing.current = true\n        window.requestAnimationFrame(() => {\n            if (window.scrollY + window.innerHeight > pageEl.current.clientHeight - 200) {\n                setPage(page + 1)\n                return\n            }\n            debouncing.current = false\n        })\n    }\n\n    if (error) {\n        return (\n            <div className={styles.videos}>\n                <h3>Videos</h3>\n                <p className={styles.error}>Unable to fetch videos.</p>\n            </div>\n        )\n    }\n\n    return (\n        <>\n            <div className={`${styles.uploads} ${styles.videos}`} ref={pageEl}>\n                <h3>Uploads</h3>\n                {uploads.length ? (\n                    <ul>\n                        {uploads.map(video => (\n                            <Video key={video.id} video={video} />\n                        ))}\n                    </ul>\n                ) : null}\n            </div>\n            <div className={`${styles.likes} ${styles.videos}`}>\n                <h3>Liked Videos</h3>\n                {liked.length ? (\n                    <ul>\n                        {liked.map(video => (\n                            <Video key={video.id} video={video} />\n                        ))}\n                    </ul>\n                ) : null}\n            </div>\n        </>\n    )\n}\n","import React from 'react'\nimport Error from 'components/Error'\nimport useUser from 'hooks/User'\nimport Profile from './Profile'\nimport Videos from './Videos'\nimport styles from './YouTube.module.css'\n\nexport default function YouTube() {\n    const [user, error] = useUser('youtube')\n\n    if (error) {\n        return <Error message=\"Unable to fetch youtube profile.\" />\n    }\n\n    return (\n        <div className={styles.page}>\n            {user && <Profile user={user} />}\n            <Videos />\n        </div>\n    )\n}\n","import React from 'react'\nimport styles from './Error.module.css'\n\nconst Error = ({ message }) => {\n    return (\n        <div className={styles.Error}>\n            <h3>:(</h3>\n            <p>{message || 'Unable to load'}</p>\n        </div>\n    )\n}\n\nexport default Error\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Error\":\"Error_Error__3f4kP\",\"fadeIn\":\"Error_fadeIn__2G69l\"};","import { useState, useEffect } from 'react'\n\nexport default function useUser(type) {\n    const [user, setUser] = useState(null)\n    const [error, setError] = useState(false)\n\n    useEffect(() => {\n        const fetchUser = async () => {\n            try {\n                const url = `${process.env.REACT_APP_API_URL}/${type}/user`\n                const response = await fetch(url)\n                const user = await response.json()\n                setUser(user)\n            } catch (error) {\n                setError(true)\n            }\n        }\n        fetchUser()\n    }, [type])\n\n    return [user, error]\n}\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"page\":\"YouTube_page__3ps6t\",\"error\":\"YouTube_error__2wbsC\",\"profile\":\"YouTube_profile__1hml3\",\"banner\":\"YouTube_banner__2Ro0C\",\"bannerShadow\":\"YouTube_bannerShadow__1IgS0\",\"picture\":\"YouTube_picture__ne0c9\",\"scaleIn\":\"YouTube_scaleIn__66-2m\",\"stats\":\"YouTube_stats__Qr015\",\"videos\":\"YouTube_videos__2cxN5\",\"moveIn\":\"YouTube_moveIn__Ygp8Y\",\"moveOut\":\"YouTube_moveOut__2EFuH\",\"halfScaleIn\":\"YouTube_halfScaleIn__20R26\",\"videoLogo\":\"YouTube_videoLogo__3hP0N\",\"info\":\"YouTube_info__2p5oj\",\"title\":\"YouTube_title__ZXF0u\",\"date\":\"YouTube_date__1ZpJa\",\"placeholder\":\"YouTube_placeholder__2GYhw\",\"rotate\":\"YouTube_rotate__XBz81\",\"uploads\":\"YouTube_uploads__28jkJ\",\"likes\":\"YouTube_likes__2WBbc\",\"timelinePost\":\"YouTube_timelinePost__REzCh\",\"video\":\"YouTube_video__y-9sY\",\"fadeIn\":\"YouTube_fadeIn__3RVW9\"};","import React from 'react'\nimport { parseISO, formatDistanceToNow } from 'date-fns'\nimport Modal from 'components/Modal'\nimport styles from 'components/Modal/Modal.module.css'\n\nexport default function YouTubeModal({ item, onClose }) {\n    return (\n        <Modal onClose={onClose} wide>\n            <iframe className={styles.media} src={`https://www.youtube.com/embed/${item.id}`} frameBorder=\"0\" allowFullScreen title={item.title} />\n            <div className={`${styles.details} ${styles.stacked}`}>\n                <h4>{item.title}</h4>\n                <span className={styles.date}>{formatDistanceToNow(typeof item.date === 'string' ? parseISO(item.date) : item.date)} ago</span>\n                <p dangerouslySetInnerHTML={{ __html: item.description }}></p>\n            </div>\n        </Modal>\n    )\n}\n"],"sourceRoot":""}