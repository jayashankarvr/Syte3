{"version":3,"sources":["pages/Foursquare/Profile.js","pages/Foursquare/MapOptions.js","pages/Foursquare/Map.js","pages/Foursquare/Monthly.js","pages/Foursquare/Checkin.js","pages/Foursquare/Checkins.js","pages/Foursquare/index.js","components/Error/index.js","components/Error/Error.module.css","hooks/User.js","pages/Foursquare/Foursquare.module.css"],"names":["Profile","user","className","styles","profile","href","url","picture","src","alt","name","location","stats","checkins","toLocaleString","friends","defaultCenter","lat","lng","defaultZoom","mapOptions","maps","maxZoom","panControl","mapTypeControl","disableDefaultUI","featureType","elementType","stylers","color","lightness","visibility","weight","saturation","gamma","Marker","$hover","title","marker","hover","Map","markers","month","useState","map","setMap","setMaps","useEffect","length","bounds","LatLngBounds","forEach","extend","LatLng","fitBounds","style","height","width","bootstrapURLKeys","key","process","options","hoverDistance","yesIWantToUseGoogleMapApiInternals","onGoogleApiLoaded","gMap","gMaps","id","Monthly","changeMonth","onMonthChange","categories","setCategories","groupedCheckins","checkin","category","count","icon","Object","keys","monthly","format","subMonths","Date","leftIcon","onClick","rightIcon","values","sort","a","b","Checkin","info","city","state","date","formatDistanceToNow","parseISO","Checkins","setCheckins","page","setPage","error","setError","empty","setEmpty","setMonth","loadingMonth","setLoadingMonth","pageEl","useRef","debouncing","fetchCheckins","window","addEventListener","handleScroll","removeEventListener","fetch","response","json","pageCheckins","ins","slice","push","current","requestAnimationFrame","scrollY","innerHeight","clientHeight","ref","value","Foursquare","useUser","Error","message","module","exports","type","setUser","fetchUser"],"mappings":"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","file":"static/js/11.c70e0030.chunk.js","sourcesContent":["import React from 'react'\nimport Img from 'react-image'\nimport styles from './Foursquare.module.css'\n\nexport default function Profile({ user }) {\n    return (\n        <div className={styles.profile}>\n            <a href={user.url} className={styles.picture}>\n                <Img src={user.picture} alt=\"Foursquare Profile\" />\n            </a>\n            <h2>{user.name}</h2>\n            <span className={styles.location}>{user.location}</span>\n            <ul className={styles.stats}>\n                <li>\n                    Check-ins <strong>{user.checkins ? user.checkins.toLocaleString() : '0'}</strong>\n                </li>\n                <li>\n                    Friends <strong>{user.friends ? user.friends.toLocaleString() : '0'}</strong>\n                </li>\n            </ul>\n        </div>\n    )\n}\n","export const defaultCenter = { lat: 39.1362, lng: -94.5725 }\nexport const defaultZoom = 9\nexport const mapOptions = maps => {\n    return {\n        maxZoom: 12,\n        panControl: false,\n        mapTypeControl: false,\n        disableDefaultUI: true,\n        styles: [\n            { featureType: 'all', elementType: 'labels.text.fill', stylers: [{ color: '#162122' }, { lightness: '40' }] },\n            {\n                featureType: 'all',\n                elementType: 'labels.text.stroke',\n                stylers: [{ visibility: 'simplified' }, { color: '#162122' }, { lightness: 16 }],\n            },\n            { featureType: 'all', elementType: 'labels.icon', stylers: [{ visibility: 'off' }] },\n            {\n                featureType: 'administrative',\n                elementType: 'geometry.fill',\n                stylers: [{ color: '#273239' }, { lightness: '52' }, { visibility: 'off' }],\n            },\n            {\n                featureType: 'administrative',\n                elementType: 'geometry.stroke',\n                stylers: [{ weight: '1.00' }, { visibility: 'on' }, { lightness: '-61' }],\n            },\n            { featureType: 'administrative.province', elementType: 'labels.text', stylers: [{ visibility: 'simplified' }] },\n            { featureType: 'landscape', elementType: 'geometry', stylers: [{ color: '#273239' }, { lightness: '-18' }, { saturation: '0' }] },\n            { featureType: 'landscape.natural', elementType: 'geometry.fill', stylers: [{ visibility: 'on' }] },\n            { featureType: 'poi', elementType: 'geometry', stylers: [{ color: '#273239' }, { lightness: '-9' }, { visibility: 'on' }] },\n            { featureType: 'road.highway', elementType: 'geometry.fill', stylers: [{ color: '#111619' }, { lightness: '5' }] },\n            {\n                featureType: 'road.highway',\n                elementType: 'geometry.stroke',\n                stylers: [{ weight: 0.2 }, { color: '#273239' }, { lightness: '-50' }, { visibility: 'off' }],\n            },\n            { featureType: 'road.arterial', elementType: 'geometry', stylers: [{ color: '#111619' }, { lightness: '6' }] },\n            { featureType: 'road.arterial', elementType: 'labels.text', stylers: [{ visibility: 'off' }] },\n            { featureType: 'road.local', elementType: 'geometry', stylers: [{ color: '#111619' }, { lightness: '3' }] },\n            { featureType: 'road.local', elementType: 'labels.text', stylers: [{ visibility: 'off' }] },\n            { featureType: 'transit', elementType: 'geometry', stylers: [{ color: '#273239' }, { lightness: '-9' }] },\n            {\n                featureType: 'water',\n                elementType: 'geometry',\n                stylers: [{ color: '#182125' }, { lightness: '-12' }, { saturation: '0' }, { gamma: '1.00' }],\n            },\n            { featureType: 'water', elementType: 'labels.text', stylers: [{ visibility: 'simplified' }] },\n        ],\n    }\n}\n","import React, { useState, useEffect } from 'react'\nimport GoogleMapReact from 'google-map-react'\nimport { defaultCenter, defaultZoom, mapOptions } from './MapOptions'\nimport styles from './Foursquare.module.css'\n\nconst Marker = ({ $hover, title }) => {\n    return (\n        <div className={`${styles.marker} ${$hover ? styles.hover : null}`}>\n            <span>{title}</span>\n        </div>\n    )\n}\n\nexport default function Map({ markers, month }) {\n    const [map, setMap] = useState(null)\n    const [maps, setMaps] = useState(null)\n\n    useEffect(() => {\n        if (map && maps && markers && markers.length) {\n            const bounds = new maps.LatLngBounds()\n            markers.forEach(marker => {\n                bounds.extend(new maps.LatLng(marker.lat, marker.lng))\n            })\n            map.fitBounds(bounds)\n        }\n    }, [month, markers, map, maps])\n\n    return (\n        <div style={{ height: '300px', width: '100%' }}>\n            <GoogleMapReact\n                bootstrapURLKeys={{ key: process.env.REACT_APP_GOOGLE_MAPS_KEY }}\n                defaultCenter={defaultCenter}\n                defaultZoom={defaultZoom}\n                options={mapOptions}\n                hoverDistance={10}\n                yesIWantToUseGoogleMapApiInternals\n                onGoogleApiLoaded={({ map: gMap, maps: gMaps }) => {\n                    if (!map && !maps) {\n                        setMap(gMap)\n                        setMaps(gMaps)\n                    }\n                }}>\n                {markers && markers.map(marker => <Marker key={marker.id} lat={marker.lat} lng={marker.lng} title={marker.title} />)}\n            </GoogleMapReact>\n        </div>\n    )\n}\n","import React, { useState, useEffect } from 'react'\nimport { subMonths, format } from 'date-fns'\nimport Img from 'react-image'\nimport { LeftIcon, RightIcon } from 'components/Icons'\nimport Map from './Map'\nimport styles from './Foursquare.module.css'\n\nexport default function Monthly({ checkins, month, onMonthChange: changeMonth }) {\n    const [categories, setCategories] = useState(null)\n\n    useEffect(() => {\n        const groupedCheckins = {}\n        if (checkins) {\n            checkins.forEach(checkin => {\n                const category = checkin.category\n                if (groupedCheckins[category]) {\n                    groupedCheckins[category].count += 1\n                } else {\n                    groupedCheckins[category] = {\n                        count: 1,\n                        icon: checkin.icon,\n                        category,\n                    }\n                }\n            })\n        }\n\n        setCategories(Object.keys(groupedCheckins).length > 0 ? groupedCheckins : null)\n    }, [checkins])\n\n    return (\n        <div className={styles.monthly}>\n            <header>\n                <h2>{format(subMonths(new Date(), month), 'MMMM yyyy')}</h2>\n                <span>\n                    {checkins ? checkins.length : 0} {checkins && checkins.length === 1 ? 'Check-in' : 'Check-ins'}\n                </span>\n                <span\n                    className={styles.leftIcon}\n                    onClick={() => {\n                        changeMonth(month + 1)\n                    }}>\n                    <LeftIcon />\n                </span>\n                {month > 0 && (\n                    <span\n                        className={styles.rightIcon}\n                        onClick={() => {\n                            changeMonth(month - 1)\n                        }}>\n                        <RightIcon />\n                    </span>\n                )}\n            </header>\n            <section className={styles.map}>\n                <Map markers={checkins} month={month} />\n            </section>\n            {categories ? (\n                <section className={styles.categories}>\n                    <ul>\n                        {Object.values(categories)\n                            .sort((a, b) => (a.count > b.count ? -1 : 1))\n                            .map(category => (\n                                <li key={category.category}>\n                                    <span className={styles.icon}>\n                                        <Img src={category.icon} alt={category.category} />\n                                    </span>\n                                    <span className={styles.category}>{category.category}</span>\n                                    <span className={styles.count}>\n                                        {category.count} {category.count === 1 ? 'time' : 'times'}\n                                    </span>\n                                </li>\n                            ))}\n                    </ul>\n                </section>\n            ) : null}\n        </div>\n    )\n}\n","import React from 'react'\nimport Img from 'react-image'\nimport { parseISO, formatDistanceToNow } from 'date-fns'\nimport styles from './Foursquare.module.css'\n\nexport default function Checkin({ checkin }) {\n    return (\n        <li className={styles.checkin}>\n            <a href={checkin.url} className={styles.icon}>\n                <Img src={checkin.icon} alt={checkin.title} />\n            </a>\n            <a href={checkin.url} className={styles.title}>\n                {checkin.title}\n            </a>\n            <span className={styles.info}>\n                <span className={styles.category}>{checkin.category}</span>&nbsp;\n                <span className={styles.location}>\n                    {checkin.city ? `${checkin.city}, ` : null}\n                    {checkin.state}\n                </span>\n            </span>\n            <span className={styles.date}>{formatDistanceToNow(parseISO(checkin.date))} ago</span>\n        </li>\n    )\n}\n","import React, { useState, useEffect, useRef } from 'react'\nimport Monthly from './Monthly'\nimport Checkin from './Checkin'\nimport styles from './Foursquare.module.css'\n\nexport default function Checkins() {\n    const [checkins, setCheckins] = useState([])\n    const [page, setPage] = useState(0)\n    const [error, setError] = useState(false)\n    const [empty, setEmpty] = useState(0)\n    const [month, setMonth] = useState(0)\n    const [loadingMonth, setLoadingMonth] = useState(false)\n    const pageEl = useRef(null)\n    let debouncing = useRef(false)\n\n    useEffect(() => {\n        fetchCheckins()\n\n        window.addEventListener('scroll', handleScroll)\n        return () => {\n            window.removeEventListener('scroll', handleScroll)\n        }\n    }, [page])\n\n    const fetchCheckins = async () => {\n        try {\n            const response = await fetch(`${process.env.REACT_APP_API_URL}/foursquare/${page}`)\n            const pageCheckins = await response.json()\n            if (loadingMonth) {\n                setLoadingMonth(false)\n                setMonth(page)\n            }\n\n            if (pageCheckins.length >= 0) {\n                const ins = checkins.slice()\n                ins.push(pageCheckins)\n                setCheckins(ins)\n                if (pageCheckins.length >= 0) {\n                    setEmpty(0)\n                }\n            }\n\n            if (pageCheckins.length === 0 && empty < 2) {\n                setEmpty(empty + 1)\n                setPage(page + 1)\n            }\n            debouncing.current = false\n        } catch (error) {\n            setError(true)\n        }\n    }\n\n    const handleScroll = () => {\n        if (debouncing.current) {\n            return\n        }\n\n        debouncing.current = true\n        window.requestAnimationFrame(() => {\n            if (window.scrollY + window.innerHeight > pageEl.current.clientHeight - 200) {\n                setPage(page + 1)\n                return\n            }\n            debouncing.current = false\n        })\n    }\n\n    const handleMonthChange = value => {\n        if (value > page) {\n            setPage(value)\n            setLoadingMonth(true)\n        } else {\n            setMonth(value)\n        }\n    }\n\n    return (\n        <>\n            <div className={styles.checkins} ref={pageEl}>\n                <h3>Recent Check-ins</h3>\n                {error && <p className={styles.error}>Unable to fetch recent check-ins.</p>}\n                {!error && (\n                    <ul>\n                        {checkins.length\n                            ? checkins.map(page => page.map(checkin => <Checkin key={`${page}-${checkin.id}`} checkin={checkin} />))\n                            : null}\n                    </ul>\n                )}\n            </div>\n            {checkins.length ? <Monthly checkins={loadingMonth ? null : checkins[month]} month={month} onMonthChange={handleMonthChange} /> : null}\n        </>\n    )\n}\n","import React from 'react'\nimport Error from 'components/Error'\nimport useUser from 'hooks/User'\nimport Profile from './Profile'\nimport Checkins from './Checkins'\nimport styles from './Foursquare.module.css'\n\nexport default function Foursquare() {\n    const [user, error] = useUser('foursquare')\n\n    if (error) {\n        return <Error message=\"Unable to fetch foursquare profile.\" />\n    }\n\n    return (\n        <div className={styles.page}>\n            {user && <Profile user={user} />}\n            <Checkins />\n        </div>\n    )\n}\n","import React from 'react'\nimport styles from './Error.module.css'\n\nconst Error = ({ message }) => {\n    return (\n        <div className={styles.Error}>\n            <h3>:(</h3>\n            <p>{message || 'Unable to load'}</p>\n        </div>\n    )\n}\n\nexport default Error\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Error\":\"Error_Error__3f4kP\",\"fadeIn\":\"Error_fadeIn__2G69l\"};","import { useState, useEffect } from 'react'\n\nexport default function useUser(type) {\n    const [user, setUser] = useState(null)\n    const [error, setError] = useState(false)\n\n    useEffect(() => {\n        const fetchUser = async () => {\n            try {\n                const url = `${process.env.REACT_APP_API_URL}/${type}/user`\n                const response = await fetch(url)\n                const user = await response.json()\n                setUser(user)\n            } catch (error) {\n                setError(true)\n            }\n        }\n        fetchUser()\n    }, [type])\n\n    return [user, error]\n}\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"page\":\"Foursquare_page__1jAes\",\"error\":\"Foursquare_error__2J09q\",\"profile\":\"Foursquare_profile__3USjT\",\"picture\":\"Foursquare_picture__2aR3W\",\"scaleIn\":\"Foursquare_scaleIn__3frOr\",\"moveIn\":\"Foursquare_moveIn__xZ7zg\",\"moveOut\":\"Foursquare_moveOut__15Ajo\",\"location\":\"Foursquare_location__1Hbh7\",\"stats\":\"Foursquare_stats__18Gte\",\"checkins\":\"Foursquare_checkins__2J4sa\",\"checkin\":\"Foursquare_checkin__2y0sh\",\"title\":\"Foursquare_title__13hD7\",\"icon\":\"Foursquare_icon__1sr0N\",\"halfScaleIn\":\"Foursquare_halfScaleIn__GmEYX\",\"info\":\"Foursquare_info__3vVDP\",\"category\":\"Foursquare_category__3ghTR\",\"date\":\"Foursquare_date__1gSXy\",\"monthly\":\"Foursquare_monthly__23gbN\",\"leftIcon\":\"Foursquare_leftIcon__1_UMp\",\"rightIcon\":\"Foursquare_rightIcon__1Y-tT\",\"map\":\"Foursquare_map__3KCrg\",\"marker\":\"Foursquare_marker__oYGLF\",\"hover\":\"Foursquare_hover__xNVqk\",\"categories\":\"Foursquare_categories__cUK0q\",\"count\":\"Foursquare_count__woyv3\",\"fadeIn\":\"Foursquare_fadeIn__2xm3O\"};"],"sourceRoot":""}