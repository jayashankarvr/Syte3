(this.webpackJsonpSyte3=this.webpackJsonpSyte3||[]).push([[11],{108:function(e,t,a){"use strict";a.r(t);var n=a(17),r=a(0),l=a.n(r),c=a(46),s=a(49),o=a(42),i=a.n(o),u=a(51),m=a.n(u);function f(e){var t=e.user;return l.a.createElement("div",{className:m.a.profile},l.a.createElement("a",{href:t.url,className:m.a.picture},l.a.createElement(i.a,{src:t.picture,alt:"Foursquare Profile"})),l.a.createElement("h2",null,t.name),l.a.createElement("span",{className:m.a.location},t.location),l.a.createElement("ul",{className:m.a.stats},l.a.createElement("li",null,"Check-ins ",l.a.createElement("strong",null,t.checkins?t.checkins.toLocaleString():"0")),l.a.createElement("li",null,"Friends ",l.a.createElement("strong",null,t.friends?t.friends.toLocaleString():"0"))))}var y=a(44),p=a.n(y),h=a(45),_=a(105),g=a(114),E=a(18),b=a(84),v=a.n(b),d={lat:39.1362,lng:-94.5725},j=9,O=function(e){return{maxZoom:12,panControl:!1,mapTypeControl:!1,disableDefaultUI:!0,styles:[{featureType:"all",elementType:"labels.text.fill",stylers:[{color:"#162122"},{lightness:"40"}]},{featureType:"all",elementType:"labels.text.stroke",stylers:[{visibility:"simplified"},{color:"#162122"},{lightness:16}]},{featureType:"all",elementType:"labels.icon",stylers:[{visibility:"off"}]},{featureType:"administrative",elementType:"geometry.fill",stylers:[{color:"#273239"},{lightness:"52"},{visibility:"off"}]},{featureType:"administrative",elementType:"geometry.stroke",stylers:[{weight:"1.00"},{visibility:"on"},{lightness:"-61"}]},{featureType:"administrative.province",elementType:"labels.text",stylers:[{visibility:"simplified"}]},{featureType:"landscape",elementType:"geometry",stylers:[{color:"#273239"},{lightness:"-18"},{saturation:"0"}]},{featureType:"landscape.natural",elementType:"geometry.fill",stylers:[{visibility:"on"}]},{featureType:"poi",elementType:"geometry",stylers:[{color:"#273239"},{lightness:"-9"},{visibility:"on"}]},{featureType:"road.highway",elementType:"geometry.fill",stylers:[{color:"#111619"},{lightness:"5"}]},{featureType:"road.highway",elementType:"geometry.stroke",stylers:[{weight:.2},{color:"#273239"},{lightness:"-50"},{visibility:"off"}]},{featureType:"road.arterial",elementType:"geometry",stylers:[{color:"#111619"},{lightness:"6"}]},{featureType:"road.arterial",elementType:"labels.text",stylers:[{visibility:"off"}]},{featureType:"road.local",elementType:"geometry",stylers:[{color:"#111619"},{lightness:"3"}]},{featureType:"road.local",elementType:"labels.text",stylers:[{visibility:"off"}]},{featureType:"transit",elementType:"geometry",stylers:[{color:"#273239"},{lightness:"-9"}]},{featureType:"water",elementType:"geometry",stylers:[{color:"#182125"},{lightness:"-12"},{saturation:"0"},{gamma:"1.00"}]},{featureType:"water",elementType:"labels.text",stylers:[{visibility:"simplified"}]}]}},k=function(e){var t=e.$hover,a=e.title;return l.a.createElement("div",{className:"".concat(m.a.marker," ").concat(t?m.a.hover:null)},l.a.createElement("span",null,a))};function T(e){var t=e.markers,a=e.month,c=Object(r.useState)(null),s=Object(n.a)(c,2),o=s[0],i=s[1],u=Object(r.useState)(null),m=Object(n.a)(u,2),f=m[0],y=m[1];return Object(r.useEffect)((function(){if(o&&f&&t&&t.length){var e=new f.LatLngBounds;t.forEach((function(t){e.extend(new f.LatLng(t.lat,t.lng))})),o.fitBounds(e)}}),[a,t,o,f]),l.a.createElement("div",{style:{height:"300px",width:"100%"}},l.a.createElement(v.a,{bootstrapURLKeys:{key:"AIzaSyC0UVCuwEX_H_hDgO-3hkZRqSPBSWqdWIA"},defaultCenter:d,defaultZoom:j,options:O,hoverDistance:10,yesIWantToUseGoogleMapApiInternals:!0,onGoogleApiLoaded:function(e){var t=e.map,a=e.maps;o||f||(i(t),y(a))}},t&&t.map((function(e){return l.a.createElement(k,{key:e.id,lat:e.lat,lng:e.lng,title:e.title})}))))}function q(e){var t=e.checkins,a=e.month,c=e.onMonthChange,s=Object(r.useState)(null),o=Object(n.a)(s,2),u=o[0],f=o[1];return Object(r.useEffect)((function(){var e={};t&&t.forEach((function(t){var a=t.category;e[a]?e[a].count+=1:e[a]={count:1,icon:t.icon,category:a}})),f(Object.keys(e).length>0?e:null)}),[t]),l.a.createElement("div",{className:m.a.monthly},l.a.createElement("header",null,l.a.createElement("h2",null,Object(_.a)(Object(g.a)(new Date,a),"MMMM yyyy")),l.a.createElement("span",null,t?t.length:0," ",t&&1===t.length?"Check-in":"Check-ins"),l.a.createElement("span",{className:m.a.leftIcon,onClick:function(){c(a+1)}},l.a.createElement(E.e,null)),a>0&&l.a.createElement("span",{className:m.a.rightIcon,onClick:function(){c(a-1)}},l.a.createElement(E.j,null))),l.a.createElement("section",{className:m.a.map},l.a.createElement(T,{markers:t,month:a})),u?l.a.createElement("section",{className:m.a.categories},l.a.createElement("ul",null,Object.values(u).sort((function(e,t){return e.count>t.count?-1:1})).map((function(e){return l.a.createElement("li",{key:e.category},l.a.createElement("span",{className:m.a.icon},l.a.createElement(i.a,{src:e.icon,alt:e.category})),l.a.createElement("span",{className:m.a.category},e.category),l.a.createElement("span",{className:m.a.count},e.count," ",1===e.count?"time":"times"))})))):null)}var F=a(107),w=a(104);function N(e){var t=e.checkin;return l.a.createElement("li",{className:m.a.checkin},l.a.createElement("a",{href:t.url,className:m.a.icon},l.a.createElement(i.a,{src:t.icon,alt:t.title})),l.a.createElement("a",{href:t.url,className:m.a.title},t.title),l.a.createElement("span",{className:m.a.info},l.a.createElement("span",{className:m.a.category},t.category),"\xa0",l.a.createElement("span",{className:m.a.location},t.city?"".concat(t.city,", "):null,t.state)),l.a.createElement("span",{className:m.a.date},Object(F.a)(Object(w.a)(t.date))," ago"))}function x(){var e=Object(r.useState)([]),t=Object(n.a)(e,2),a=t[0],c=t[1],s=Object(r.useState)(0),o=Object(n.a)(s,2),i=o[0],u=o[1],f=Object(r.useState)(!1),y=Object(n.a)(f,2),_=y[0],g=y[1],E=Object(r.useState)(0),b=Object(n.a)(E,2),v=b[0],d=b[1],j=Object(r.useState)(0),O=Object(n.a)(j,2),k=O[0],T=O[1],F=Object(r.useState)(!1),w=Object(n.a)(F,2),x=w[0],S=w[1],I=Object(r.useRef)(null),C=Object(r.useRef)(!1);Object(r.useEffect)((function(){return L(),window.addEventListener("scroll",U),function(){window.removeEventListener("scroll",U)}}),[i]);var L=function(){var e=Object(h.a)(p.a.mark((function e(){var t,n,r;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat("http://localhost:4000/api","/foursquare/").concat(i));case 3:return t=e.sent,e.next=6,t.json();case 6:n=e.sent,x&&(S(!1),T(i)),n.length>=0&&((r=a.slice()).push(n),c(r),n.length>=0&&d(0)),0===n.length&&v<2&&(d(v+1),u(i+1)),C.current=!1,e.next=16;break;case 13:e.prev=13,e.t0=e.catch(0),g(!0);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(){return e.apply(this,arguments)}}(),U=function(){C.current||(C.current=!0,window.requestAnimationFrame((function(){window.scrollY+window.innerHeight>I.current.clientHeight-200?u(i+1):C.current=!1})))};return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:m.a.checkins,ref:I},l.a.createElement("h3",null,"Recent Check-ins"),_&&l.a.createElement("p",{className:m.a.error},"Unable to fetch recent check-ins."),!_&&l.a.createElement("ul",null,a.length?a.map((function(e){return e.map((function(t){return l.a.createElement(N,{key:"".concat(e,"-").concat(t.id),checkin:t})}))})):null)),a.length?l.a.createElement(q,{checkins:x?null:a[k],month:k,onMonthChange:function(e){e>i?(u(e),S(!0)):T(e)}}):null)}function S(){var e=Object(s.a)("foursquare"),t=Object(n.a)(e,2),a=t[0];return t[1]?l.a.createElement(c.a,{message:"Unable to fetch foursquare profile."}):l.a.createElement("div",{className:m.a.page},a&&l.a.createElement(f,{user:a}),l.a.createElement(x,null))}a.d(t,"default",(function(){return S}))},46:function(e,t,a){"use strict";var n=a(0),r=a.n(n),l=a(47),c=a.n(l);t.a=function(e){var t=e.message;return r.a.createElement("div",{className:c.a.Error},r.a.createElement("h3",null,":("),r.a.createElement("p",null,t||"Unable to load"))}},47:function(e,t,a){e.exports={Error:"Error_Error__3f4kP",fadeIn:"Error_fadeIn__2G69l"}},49:function(e,t,a){"use strict";a.d(t,"a",(function(){return o}));var n=a(44),r=a.n(n),l=a(45),c=a(17),s=a(0);function o(e){var t=Object(s.useState)(null),a=Object(c.a)(t,2),n=a[0],o=a[1],i=Object(s.useState)(!1),u=Object(c.a)(i,2),m=u[0],f=u[1];return Object(s.useEffect)((function(){(function(){var t=Object(l.a)(r.a.mark((function t(){var a,n,l;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a="".concat("http://localhost:4000/api","/").concat(e,"/user"),t.next=4,fetch(a);case 4:return n=t.sent,t.next=7,n.json();case 7:l=t.sent,o(l),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(0),f(!0);case 14:case"end":return t.stop()}}),t,null,[[0,11]])})));return function(){return t.apply(this,arguments)}})()()}),[e]),[n,m]}},51:function(e,t,a){e.exports={page:"Foursquare_page__1jAes",error:"Foursquare_error__2J09q",profile:"Foursquare_profile__3USjT",picture:"Foursquare_picture__2aR3W",scaleIn:"Foursquare_scaleIn__3frOr",moveIn:"Foursquare_moveIn__xZ7zg",moveOut:"Foursquare_moveOut__15Ajo",location:"Foursquare_location__1Hbh7",stats:"Foursquare_stats__18Gte",checkins:"Foursquare_checkins__2J4sa",checkin:"Foursquare_checkin__2y0sh",title:"Foursquare_title__13hD7",icon:"Foursquare_icon__1sr0N",halfScaleIn:"Foursquare_halfScaleIn__GmEYX",info:"Foursquare_info__3vVDP",category:"Foursquare_category__3ghTR",date:"Foursquare_date__1gSXy",monthly:"Foursquare_monthly__23gbN",leftIcon:"Foursquare_leftIcon__1_UMp",rightIcon:"Foursquare_rightIcon__1Y-tT",map:"Foursquare_map__3KCrg",marker:"Foursquare_marker__oYGLF",hover:"Foursquare_hover__xNVqk",categories:"Foursquare_categories__cUK0q",count:"Foursquare_count__woyv3",fadeIn:"Foursquare_fadeIn__2xm3O"}}}]);
//# sourceMappingURL=11.c70e0030.chunk.js.map