{"version":3,"sources":["pages/Dribbble/Profile.js","pages/Dribbble/Shots.js","pages/Dribbble/index.js","components/Error/index.js","components/Error/Error.module.css","hooks/User.js","pages/Dribbble/Dribbble.module.css","pages/Dribbble/Modal.js"],"names":["Profile","user","className","styles","profile","href","url","picture","src","alt","name","username","bio","length","dangerouslySetInnerHTML","__html","stats","followers","Shots","useState","shots","setShots","page","setPage","error","setError","empty","setEmpty","postDetails","setPostDetails","pageEl","useRef","debouncing","useEffect","fetchShots","window","addEventListener","handleScroll","removeEventListener","a","fetch","process","response","json","pageShots","concat","requestAnimationFrame","scrollY","innerHeight","current","clientHeight","handleClick","e","shot","preventDefault","ref","map","key","id","onClick","title","loader","placeholder","type","Modal","item","onClose","Dribbble","useUser","Error","message","module","exports","setUser","fetchUser","DribbbleModal","pictureHD","media","details","stacked","date","formatDistanceToNow","parseISO","text"],"mappings":"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","file":"static/js/7.bf569a81.chunk.js","sourcesContent":["import React from 'react'\nimport Img from 'react-image'\nimport styles from './Dribbble.module.css'\n\nexport default function Profile({ user }) {\n    return (\n        <div className={styles.profile}>\n            <a href={user.url} className={styles.picture}>\n                <Img src={user.picture} alt=\"Dribble Profile\" />\n            </a>\n            <h2>{user.name}</h2>\n            <a href={user.url} className={styles.username}>\n                @{user.username}\n            </a>\n            {user.bio && user.bio.length && <p dangerouslySetInnerHTML={{ __html: user.bio }}></p>}\n            <ul className={styles.stats}>\n                <li>\n                    Followers <strong>{user.followers}</strong>\n                </li>\n            </ul>\n        </div>\n    )\n}\n","import React, { useState, useEffect, useRef } from 'react'\nimport Img from 'react-image'\nimport { Logo } from 'components/Icons'\nimport Modal from './Modal'\nimport styles from './Dribbble.module.css'\n\nexport default function Shots() {\n    const [shots, setShots] = useState([])\n    const [page, setPage] = useState(0)\n    const [error, setError] = useState(false)\n    const [empty, setEmpty] = useState(0)\n    const [postDetails, setPostDetails] = useState(null)\n    const pageEl = useRef(null)\n    let debouncing = false\n\n    useEffect(() => {\n        fetchShots()\n\n        window.addEventListener('scroll', handleScroll)\n        return () => {\n            window.removeEventListener('scroll', handleScroll)\n        }\n    }, [page])\n\n    const fetchShots = async () => {\n        try {\n            const response = await fetch(`${process.env.REACT_APP_API_URL}/dribbble/${page}`)\n            const pageShots = await response.json()\n            if (pageShots.length > 0) {\n                setShots(shots.concat(pageShots))\n                setEmpty(0)\n            } else if (empty < 2) {\n                setEmpty(empty + 1)\n                setPage(page + 1)\n                //TODO: change api to not return empty pages...\n            }\n            debouncing = false\n        } catch (error) {\n            setError(true)\n        }\n    }\n\n    const handleScroll = () => {\n        if (debouncing) {\n            return\n        }\n\n        debouncing = true\n        window.requestAnimationFrame(() => {\n            if (window.scrollY + window.innerHeight > pageEl.current.clientHeight - 200) {\n                setPage(page + 1)\n                return\n            }\n            debouncing = false\n        })\n    }\n\n    const handleClick = (e, shot) => {\n        e.preventDefault()\n        setPostDetails(shot)\n    }\n\n    return (\n        <div className={styles.shots} ref={pageEl}>\n            {error && <p className={styles.error}>Unable to fetch Dribbble shots.</p>}\n            {!error && shots.length ? (\n                <ul>\n                    {shots.map(shot => (\n                        <li key={shot.id}>\n                            <a href={shot.url} className={styles.shot} onClick={e => handleClick(e, shot)}>\n                                <Img\n                                    src={shot.picture}\n                                    alt={shot.title}\n                                    loader={\n                                        <div className={styles.placeholder}>\n                                            <Logo type=\"Dribbble\" />\n                                        </div>\n                                    }\n                                />\n                            </a>\n                        </li>\n                    ))}\n                </ul>\n            ) : null}\n            {postDetails && <Modal item={postDetails} onClose={handleClick} />}\n        </div>\n    )\n}\n","import React from 'react'\nimport Error from 'components/Error'\nimport useUser from 'hooks/User'\nimport Profile from './Profile'\nimport Shots from './Shots'\n\nexport default function Dribbble() {\n    const [user, error] = useUser('dribbble')\n\n    if (error) {\n        return <Error message=\"Unable to fetch dribbble profile.\" />\n    }\n\n    return (\n        <>\n            {user && <Profile user={user} />}\n            <Shots />\n        </>\n    )\n}\n","import React from 'react'\nimport styles from './Error.module.css'\n\nconst Error = ({ message }) => {\n    return (\n        <div className={styles.Error}>\n            <h3>:(</h3>\n            <p>{message || 'Unable to load'}</p>\n        </div>\n    )\n}\n\nexport default Error\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Error\":\"Error_Error__3f4kP\",\"fadeIn\":\"Error_fadeIn__2G69l\"};","import { useState, useEffect } from 'react'\n\nexport default function useUser(type) {\n    const [user, setUser] = useState(null)\n    const [error, setError] = useState(false)\n\n    useEffect(() => {\n        const fetchUser = async () => {\n            try {\n                const url = `${process.env.REACT_APP_API_URL}/${type}/user`\n                const response = await fetch(url)\n                const user = await response.json()\n                setUser(user)\n            } catch (error) {\n                setError(true)\n            }\n        }\n        fetchUser()\n    }, [type])\n\n    return [user, error]\n}\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"profile\":\"Dribbble_profile__2TuPM\",\"picture\":\"Dribbble_picture__F8kWQ\",\"scaleIn\":\"Dribbble_scaleIn__2faFL\",\"moveIn\":\"Dribbble_moveIn__2WFWy\",\"moveOut\":\"Dribbble_moveOut__ab2CH\",\"username\":\"Dribbble_username__2iJr6\",\"stats\":\"Dribbble_stats__3R-RL\",\"shots\":\"Dribbble_shots__27UF2\",\"halfScaleIn\":\"Dribbble_halfScaleIn__8avkM\",\"placeholder\":\"Dribbble_placeholder__3l_dH\",\"rotate\":\"Dribbble_rotate__17Wae\",\"error\":\"Dribbble_error__hFefK\",\"timelinePost\":\"Dribbble_timelinePost__1EgvP\",\"fadeIn\":\"Dribbble_fadeIn__pUAHo\"};","import React from 'react'\nimport Img from 'react-image'\nimport { parseISO, formatDistanceToNow } from 'date-fns'\nimport Modal from 'components/Modal'\nimport styles from 'components/Modal/Modal.module.css'\n\nexport default function DribbbleModal({ item, onClose }) {\n    return (\n        <Modal onClose={onClose}>\n            <Img src={item.pictureHD ? item.pictureHD : item.picture} alt=\"Dribbble Shot\" className={styles.media} />\n            <div className={`${styles.details} ${styles.stacked}`}>\n                <span className={styles.date}>{formatDistanceToNow(typeof item.date === 'string' ? parseISO(item.date) : item.date)} ago</span>\n                <p dangerouslySetInnerHTML={{ __html: item.text }}></p>\n            </div>\n        </Modal>\n    )\n}\n"],"sourceRoot":""}